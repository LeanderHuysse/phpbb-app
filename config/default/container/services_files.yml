services:
    attachment.upload:
        class: phpbb\attachment\upload
        scope: prototype
        arguments:
            - @auth
            - @cache
            - @config
            - @files.upload
            - @language
            - @mimetype.guesser
            - @dispatcher
            - @plupload
            - @user
            - %core.root_path%

    attachment.delete:
        class: phpbb\attachment\delete
        scope: prototype
        arguments:
            - @config
            - @dbal.conn
            - @dispatcher

    filesystem:
        class: phpbb\filesystem\filesystem

    files.factory:
        class: phpbb\files\factory
        arguments:
            - @service_container

    files.filespec:
        class: phpbb\files\filespec
        scope: prototype
        arguments:
            - @filesystem
            - @language
            - @php_ini
            - @upload_imagesize
            - %core.root_path%
            - @mimetype.guesser
            - @plupload

    files.upload:
        class: phpbb\files\upload
        scope: prototype
        arguments:
            - @filesystem
            - @files.factory
            - @language
            - @php_ini
            - @request
            - %core.root_path%

    files.types.form:
        class: phpbb\files\types\form
        scope: prototype
        arguments:
            - @files.factory
            - @language
            - @php_ini
            - @plupload
            - @request

    files.types.local:
        class: phpbb\files\types\form
        scope: prototype
        arguments:
            - @files.factory
            - @language
            - @php_ini
            - @request

    files.types.remote:
        class: phpbb\files\types\remote
        scope: prototype
        arguments:
            - @files.factory
            - @language
            - @php_ini
            - @request
            - %core.root_path%
