services:
    filesystem:
        class: phpbb\filesystem\filesystem

    files.factory:
        class: phpbb\files\factory
        arguments:
            - @service_container

    files.filespec:
        class: phpbb\files\filespec
        scope: prototype
        arguments:
            - @filesystem
            - @php_ini
            - @language
            - %core.root_path%
            - @mimetype.guesser
            - @plupload

    files.upload:
        class: phpbb\files\upload
        scope: prototype
        arguments:
            - @filesystem
            - @files.factory
            - @php_ini
            - @language
            - @request
            - %core.root_path%

    files.types.form:
        class: phpbb\files\types\form
        scope: prototype
        arguments:
            - @files.factory
            - @language
            - @plupload
            - @request

    files.types.local:
        class: phpbb\files\types\form
        scope: prototype
        arguments:
            - @files.factory
            - @language
            - @request

    files.types.remote:
        class: phpbb\files\types\remote
        scope: prototype
        arguments:
            - @files.factory
            - @language
            - @request
            - %core.root_path%
